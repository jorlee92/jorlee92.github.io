<!-- Home page design with small circular image bisecting card. -->

{% assign essay_pages = site.pages | where: "type", "essay"  | where_exp: "page", "page.draft != true" %}
{% assign project_pages = site.pages | where: "type", "project" | where_exp: "page", "page.draft != true" %}
{% assign num_essays = essay_pages.size %}
{% assign num_projects = project_pages.size %}

<div style="height: 100%; margin-top: -75px" class="ui middle aligned grid ">

  <div class="column">

    <div style="position: relative; top: 75px; z-index: 1" class="ui fluid centered small circular image">
      <img src="{{ site.data.bio.basics.picture }}">
    </div>


    <div style="max-width: 800px; padding-top: 75px; margin-top: 0px" class="ui fluid centered card">

      <div class="center aligned content">
        <span class="header">{{ site.data.bio.basics.name }}</span>
        <div class="meta">
          <span class="date">{{ site.data.bio.basics.label }}</span>
        </div>
        <div class="center aligned description">
          {{ site.data.bio.basics.summary }}
        </div>
      </div>
      <div class="center aligned content">
        <div class="description">
          Interests:
          {% for interest in site.data.bio.interests %}
            {{ interest.name }}{% if forloop.last != true %}, {% endif %}
          {% endfor %}

        </div>
      </div>
      <div class="center aligned extra content">
        {% include home-network-links.html %}
      </div>
      <div class="center aligned content">
        <a href="{{ site.baseurl}}/projects/">
            <div class="ui labeled button" tabindex="0">
                    <div class="ui red button">
                        <i class="heart icon"></i> Projects
                    </div>
                    <a class="ui basic red left pointing label">
                        ({{ num_projects }}))
                    </a>
            </div>
        </a>

        <a href="{{ site.baseurl}}/projects/">
          <button class="ui basic button">Projects ({{ num_projects }})</button>
        </a>
        <a href="{{ site.baseurl}}/essays/">
          <button class="ui basic button">Essays ({{ num_essays }})</button>
        </a>
        <a href="{{ site.baseurl}}/bio/">
          <button class="ui basic button">{{ site.bio-page-label }}</button>
        </a>
        <div class="center aligned content" id="github-container">

        </div>
        <script>
    
        GitHubCalendar("#github-container", "jorlee92", {responsive: true}).then(() => {
            // This seems like the easiest way to get this to work, otherwise I need to actually rebuild the calendar JS.
            const br = document.createElement("br")
            const calendar = document.querySelectorAll(".position-relative")[0];
            calendar.appendChild(br);
        })

        
    
        </script>
      </div>
    </div>

  </div>

</div>